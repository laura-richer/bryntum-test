{"version":3,"file":"6ta0Ddnm.js","sources":["../../src/components/BryntumDemoHeader.vue"],"sourcesContent":["<template>\n    <header class=\"demo-header\">\n        <div id=\"title-container\">\n            <a\n                id=\"title\"\n                :href=\"link\"\n            >\n                <h1>{{ headerTitle }}</h1>\n            </a>\n        </div>\n        <slot />\n        <div id=\"tools\">\n            <bryntum-button\n                text=\"Download Trial\"\n                :href=\"downloadLink\"\n                cls=\"b-green b-raised\"\n            />\n            <bryntum-button\n                ref=\"codeButtonRef\"\n                icon=\"b-icon-code\"\n                tooltip=\"Click to show the code viewer\"\n                cls=\"b-raised b-blue b-code-button\"\n                :hidden=\"hiddenEditor\"\n                @click=\"toggleCodeEditor\"\n            />\n            <bryntum-button\n                ref=\"downloadButtonRef\"\n                icon=\"b-icon-download\"\n                tooltip=\"Download this demo zip archive\"\n                cls=\"b-raised b-blue\"\n                href=\"#\"\n                :hidden=\"true\"\n            />\n            <bryntum-fullscreen-button />\n        </div>\n    </header>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, defineProps, onMounted, ref } from 'vue';\nimport BryntumFullscreenButton from './BryntumFullscreenButton.vue';\nimport BryntumButton from './BryntumButton.vue';\nimport { AjaxHelper, CSSHelper, DemoCodeEditor } from '@bryntum/calendar';\n\ndefineProps<{\n    title?: string;\n}>();\n\nconst codeButtonRef = ref<typeof BryntumButton | null>(null);\n\nconst downloadButtonRef = ref<typeof BryntumButton | null>(null);\n\nconst headerTitle = document.title.split(' - ')[1] || document.title;\n\nconst isTest = document.location.search.includes('test');\n\nconst demoProduct = document.location.href.match(/\\/(\\w+)(-trial)?\\/[-\\w]*examples\\//)?.[1].toLowerCase() || 'calendar';\n\nconst downloadLink = `https://bryntum.com/download/?product=${demoProduct}`;\n\nconst appFolder = '../';\n\nconst hiddenEditor = !Boolean(DemoCodeEditor.monacoCodePath);\n\nlet codeEditor: DemoCodeEditor | undefined;\n\nconst link = computed(() => {\n    const match = /(.*?\\/)(examples.*?\\/frameworks\\/.*?)\\/dist/.exec(document.location.href);\n    return match\n        ? `${match[1]}examples/#example-${match[2].replace(/\\//gm, '-').replace('examples-frameworks', 'frameworks')}`\n        : '#';\n});\n\nconst toggleCodeEditor = async() => {\n    codeEditor = await DemoCodeEditor.toggleCodeEditor(\n        codeEditor,\n        codeButtonRef.value!.instance.value,\n        {\n            appFolder,\n            preferredSources : [\n                /App\\.vue/,\n                /\\w+Config\\.[tj]s/\n            ]\n        }\n    );\n};\n\nconst initDownload = async() => {\n    const appConfig = (await AjaxHelper.get(`${appFolder}app.config.json`, { parseJson : true })).parsedJson;\n    if (appConfig.zip || isTest) {\n        const downloadButton  = downloadButtonRef.value!.instance.value;\n        downloadButton.hidden = false;\n        downloadButton.href   = `${appFolder}${appConfig.zip}`;\n    }\n};\n\nonMounted(() => {\n    if (!hiddenEditor) {\n        CSSHelper.insertRule('body { flex-direction : row !important }');\n        CSSHelper.insertRule('#__nuxt, #container, #app { flex : 1 !important; overflow : hidden !important }');\n        CSSHelper.insertRule('.b-codeeditor-header { padding : 0.5em !important }');\n        initDownload();\n    }\n});\n\ndefineExpose({\n    link,\n    headerTitle,\n    hiddenEditor,\n    downloadLink,\n    toggleCodeEditor\n});\n\n</script>\n"],"names":["appFolder","codeButtonRef","ref","downloadButtonRef","headerTitle","isTest","downloadLink","_a","hiddenEditor","DemoCodeEditor","codeEditor","link","computed","match","toggleCodeEditor","initDownload","appConfig","AjaxHelper","downloadButton","onMounted","CSSHelper","__expose"],"mappings":";;;;sGA4DMA,IAAY;;;;;;;AAZZ,UAAAC,IAAgBC,EAAiC,IAAI,GAErDC,IAAoBD,EAAiC,IAAI,GAEzDE,IAAc,SAAS,MAAM,MAAM,KAAK,EAAE,CAAC,KAAK,SAAS,OAEzDC,IAAS,SAAS,SAAS,OAAO,SAAS,MAAM,GAIjDC,IAAe,2CAFDC,IAAA,SAAS,SAAS,KAAK,MAAM,oCAAoC,MAAjE,gBAAAA,EAAqE,GAAG,kBAAiB,UAEpC,IAInEC,IAAe,CAASC,EAAe;AAEzC,QAAAC;AAEE,UAAAC,IAAOC,EAAS,MAAM;AACxB,YAAMC,IAAQ,8CAA8C,KAAK,SAAS,SAAS,IAAI;AACvF,aAAOA,IACD,GAAGA,EAAM,CAAC,CAAC,qBAAqBA,EAAM,CAAC,EAAE,QAAQ,QAAQ,GAAG,EAAE,QAAQ,uBAAuB,YAAY,CAAC,KAC1G;AAAA,IAAA,CACT,GAEKC,IAAmB,YAAW;AAChC,MAAAJ,IAAa,MAAMD,EAAe;AAAA,QAC9BC;AAAA,QACAT,EAAc,MAAO,SAAS;AAAA,QAC9B;AAAA,UACI,WAAAD;AAAA,UACA,kBAAmB;AAAA,YACf;AAAA,YACA;AAAA,UAAA;AAAA,QACJ;AAAA,MAER;AAAA,IACJ,GAEMe,IAAe,YAAW;AACtB,YAAAC,KAAa,MAAMC,EAAW,IAAI,GAAGjB,CAAS,mBAAmB,EAAE,WAAY,GAAK,CAAC,GAAG;AAC1F,UAAAgB,EAAU,OAAOX,GAAQ;AACnB,cAAAa,IAAkBf,EAAkB,MAAO,SAAS;AAC1D,QAAAe,EAAe,SAAS,IACxBA,EAAe,OAAS,GAAGlB,CAAS,GAAGgB,EAAU,GAAG;AAAA,MAAA;AAAA,IAE5D;AAEA,WAAAG,EAAU,MAAM;AACZ,MAAKX,MACDY,EAAU,WAAW,0CAA0C,GAC/DA,EAAU,WAAW,iFAAiF,GACtGA,EAAU,WAAW,qDAAqD,GAC7DL,EAAA;AAAA,IACjB,CACH,GAEYM,EAAA;AAAA,MACT,MAAAV;AAAA,MACA,aAAAP;AAAA,MACA,cAAAI;AAAA,MACA,cAAAF;AAAA,MACA,kBAAAQ;AAAA,IAAA,CACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}